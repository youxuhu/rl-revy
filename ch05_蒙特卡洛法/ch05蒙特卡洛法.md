# 5 蒙特卡洛方法
## 5.1 蒙特卡洛方法的基础知识
### 5.1.1 骰子的点数之和
两个骰子点数之和
```python
ps = {2:1/36, 3:2/36, 4:3/36, 5:4/36, 6:5/36, 7:6/36, 8:5/36, 9:4/36, 10:3/36, 11:2/36, 12:1/36}
V = 0
for x, p in ps.items():
    V += x*p
print(V)
```
上面的代码根据输入的概率分布求期望值。只要知道概率分布就可以向上面那样计算期望值。

### 5.1.2 分布模型和样本模型
将一个表示概率分布的模型称为<strong>分布模型</strong>.
样本模型是只需要采样的模型。分布模型和样本模型的区别在于，分布模型需要知道概率分布，而样本模型只需要采样。

在样本模型中不需要显示的提供概率分布，唯一的要求就是可以进行采样。
下面来实际的实现采样模型。本次使用的是样本模型。
```python
import numpy as np

def sample(dices=2):
    x = 0
    for _ in range(dices):
        x += np.random.choice([1, 2, 3, 4, 5, 6]) # 以相同的概率在例表选取一个
    return x

if __name__ == "__main__":
    for _ in range(10):
        print(sample())
```
### 5.1.3 蒙特卡洛方法的实现
下面编写一个使用蒙特卡洛法求期望值的代码
```python
if __name__ == "__main__":
    trial = 1000
    samples = []
    for _ in range(trial):
        s = sample()
        samples.append(s)

    V = sum(samples) / len(samples)
    print(f"V = {V}")
```

使用增量法来计算，计算会更加的高效
```python
if __name__ == "__main__":
    trial = 1000
    V, n = 0, 0
    for _ in range(trial):
        s = sample()
        n += 1
        V += (s-V)/n
        print(f"Trial: {n}, Sample: {s}, Average: {V:.2f}")
```

## 5.2 使用蒙特卡洛方法评估策略

